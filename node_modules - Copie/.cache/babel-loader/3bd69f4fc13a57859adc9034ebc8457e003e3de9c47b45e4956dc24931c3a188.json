{"ast":null,"code":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { isClient } from '../helpers/is-client.js';\nimport { useWatchLocalStorageValue } from './use-watch-localstorage-value.js';\nimport { getPrefix, getMode } from '../store/index.js';\nconst DEFAULT_MODE = \"auto\";\nconst LS_THEME_MODE = \"flowbite-theme-mode\";\nconst SYNC_THEME_MODE = \"flowbite-theme-mode-sync\";\nfunction useThemeMode() {\n  const [mode, setMode] = useState(getInitialMode(getMode()));\n  useWatchLocalStorageValue({\n    key: LS_THEME_MODE,\n    onChange(newMode) {\n      setMode(validateMode(newMode ?? DEFAULT_MODE));\n    }\n  });\n  useSyncMode(mode2 => setMode(mode2));\n  function handleSetMode(mode2) {\n    setMode(mode2);\n    setModeInLS(mode2);\n    setModeInDOM(mode2);\n    document.dispatchEvent(new CustomEvent(SYNC_THEME_MODE, {\n      detail: mode2\n    }));\n  }\n  function toggleMode() {\n    let newMode = mode;\n    if (newMode === \"auto\") {\n      newMode = computeModeValue(newMode);\n    }\n    newMode = newMode === \"dark\" ? \"light\" : \"dark\";\n    handleSetMode(newMode);\n  }\n  function clearMode() {\n    const newMode = mode ?? DEFAULT_MODE;\n    handleSetMode(newMode);\n  }\n  return {\n    mode,\n    computedMode: computeModeValue(mode),\n    setMode: handleSetMode,\n    toggleMode,\n    clearMode\n  };\n}\nfunction useSyncMode(onChange) {\n  useEffect(() => {\n    function handleSync(e) {\n      const mode = e.detail;\n      onChange(mode);\n    }\n    document.addEventListener(SYNC_THEME_MODE, handleSync);\n    return () => document.removeEventListener(SYNC_THEME_MODE, handleSync);\n  }, []);\n}\nfunction setModeInLS(mode) {\n  localStorage.setItem(LS_THEME_MODE, mode);\n}\nfunction setModeInDOM(mode) {\n  const prefix = getPrefix() ?? \"\";\n  const computedMode = computeModeValue(mode);\n  if (computedMode === \"dark\") {\n    document.documentElement.classList.add(`${prefix}dark`);\n  } else {\n    document.documentElement.classList.remove(`${prefix}dark`);\n  }\n}\nfunction getInitialMode(defaultMode) {\n  if (!isClient()) {\n    return DEFAULT_MODE;\n  }\n  const storageMode = localStorage.getItem(LS_THEME_MODE);\n  return validateMode(storageMode ?? defaultMode ?? DEFAULT_MODE);\n}\nfunction computeModeValue(mode) {\n  if (!isClient()) {\n    return DEFAULT_MODE;\n  }\n  return mode === \"auto\" ? prefersColorScheme() : mode;\n}\nfunction prefersColorScheme() {\n  return window.matchMedia?.(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n}\nfunction validateMode(mode) {\n  if ([\"light\", \"dark\", \"auto\"].includes(mode)) {\n    return mode;\n  }\n  return DEFAULT_MODE;\n}\nexport { useThemeMode };","map":{"version":3,"names":["useState","useEffect","isClient","useWatchLocalStorageValue","getPrefix","getMode","DEFAULT_MODE","LS_THEME_MODE","SYNC_THEME_MODE","useThemeMode","mode","setMode","getInitialMode","key","onChange","newMode","validateMode","useSyncMode","mode2","handleSetMode","setModeInLS","setModeInDOM","document","dispatchEvent","CustomEvent","detail","toggleMode","computeModeValue","clearMode","computedMode","handleSync","e","addEventListener","removeEventListener","localStorage","setItem","prefix","documentElement","classList","add","remove","defaultMode","storageMode","getItem","prefersColorScheme","window","matchMedia","matches","includes"],"sources":["C:/Users/PC/mon-projet-react/node_modules/flowbite-react/dist/hooks/use-theme-mode.js"],"sourcesContent":["'use client';\nimport { useState, useEffect } from 'react';\nimport { isClient } from '../helpers/is-client.js';\nimport { useWatchLocalStorageValue } from './use-watch-localstorage-value.js';\nimport { getPrefix, getMode } from '../store/index.js';\n\nconst DEFAULT_MODE = \"auto\";\nconst LS_THEME_MODE = \"flowbite-theme-mode\";\nconst SYNC_THEME_MODE = \"flowbite-theme-mode-sync\";\nfunction useThemeMode() {\n  const [mode, setMode] = useState(getInitialMode(getMode()));\n  useWatchLocalStorageValue({\n    key: LS_THEME_MODE,\n    onChange(newMode) {\n      setMode(validateMode(newMode ?? DEFAULT_MODE));\n    }\n  });\n  useSyncMode((mode2) => setMode(mode2));\n  function handleSetMode(mode2) {\n    setMode(mode2);\n    setModeInLS(mode2);\n    setModeInDOM(mode2);\n    document.dispatchEvent(new CustomEvent(SYNC_THEME_MODE, { detail: mode2 }));\n  }\n  function toggleMode() {\n    let newMode = mode;\n    if (newMode === \"auto\") {\n      newMode = computeModeValue(newMode);\n    }\n    newMode = newMode === \"dark\" ? \"light\" : \"dark\";\n    handleSetMode(newMode);\n  }\n  function clearMode() {\n    const newMode = mode ?? DEFAULT_MODE;\n    handleSetMode(newMode);\n  }\n  return {\n    mode,\n    computedMode: computeModeValue(mode),\n    setMode: handleSetMode,\n    toggleMode,\n    clearMode\n  };\n}\nfunction useSyncMode(onChange) {\n  useEffect(() => {\n    function handleSync(e) {\n      const mode = e.detail;\n      onChange(mode);\n    }\n    document.addEventListener(SYNC_THEME_MODE, handleSync);\n    return () => document.removeEventListener(SYNC_THEME_MODE, handleSync);\n  }, []);\n}\nfunction setModeInLS(mode) {\n  localStorage.setItem(LS_THEME_MODE, mode);\n}\nfunction setModeInDOM(mode) {\n  const prefix = getPrefix() ?? \"\";\n  const computedMode = computeModeValue(mode);\n  if (computedMode === \"dark\") {\n    document.documentElement.classList.add(`${prefix}dark`);\n  } else {\n    document.documentElement.classList.remove(`${prefix}dark`);\n  }\n}\nfunction getInitialMode(defaultMode) {\n  if (!isClient()) {\n    return DEFAULT_MODE;\n  }\n  const storageMode = localStorage.getItem(LS_THEME_MODE);\n  return validateMode(storageMode ?? defaultMode ?? DEFAULT_MODE);\n}\nfunction computeModeValue(mode) {\n  if (!isClient()) {\n    return DEFAULT_MODE;\n  }\n  return mode === \"auto\" ? prefersColorScheme() : mode;\n}\nfunction prefersColorScheme() {\n  return window.matchMedia?.(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n}\nfunction validateMode(mode) {\n  if ([\"light\", \"dark\", \"auto\"].includes(mode)) {\n    return mode;\n  }\n  return DEFAULT_MODE;\n}\n\nexport { useThemeMode };\n//# sourceMappingURL=use-theme-mode.js.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}